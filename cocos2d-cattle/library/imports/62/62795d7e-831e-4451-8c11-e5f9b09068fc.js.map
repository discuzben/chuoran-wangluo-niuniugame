{"version":3,"sources":["..\\..\\..\\..\\assets\\api/assets\\api\\build_main.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","window","__localStoreUtil__INSTANCE__","localStoreUtil","storeKey","init","localStorage","cc","sys","set","key","value","JSON","stringify","error","setItem","get","getItem","RegExp","test","parse","undefined","STORE","require","GD","GlobalData","token","playerId","player","loginParams","exchangeRoomKey","current","setting","musicVolume","effectVolume","isMusicMute","isEffectMute","_musicVolume","_effectVolume","_isMusicMute","_isEffectMute","CD","ConstantData","gameTypes","name","gameId","gameSceneName","roomListScene","myUtil","getLength","str","realLength","len","length","charCode","i","charCodeAt","substr","maxLength","needDot","_result","_subIndex","compareUp","data","propertyName","object1","object2","value1","value2","localeCompare","compareDown","uuid","radix","chars","split","Math","random","r","join","getQueryString","reg","reg_rewrite","location","search","match","q","pathname","unescape","MyUtil","__ccModal","ccModal","_addButtons","options","btnsNode","modalNode","getChildByName","btnsArr","children","forEach","item","index","buttons","btnNodes","node","active","ccUtil","setLabelString","text","btnComp","getComponent","Button","handler","clickEvents","_modal","msg","cb","seconds","_this","self","isValid","find","modalloadCb","scheNode","_components","unscheduleAllCallbacks","schedule","isModalloading","loader","loadRes","err","prefab","message","Prefab","instantiate","parent","director","getScene","close","isInit","loading","AudioCtrl","playWindowopen","apply","tip","setSpriteFrame","targetNode","spriteAltas","spriteName","sprComp","Sprite","addComponent","spriteFrame","getSpriteFrame","childName","arr","Label","string","labelTimeout","labelCom","sched","scheduleOnce","labelInterval","modalLoading","modalTip","closeModal","audioCtrl","playSelect","playResAudio","playBGM","audioUrl","url","raw","playNodeAudioBGM","audioEngine","play","playNodeAudio","_bgmSource","_musicAudioId","pause","stopBGM","stop","setMusicVolume","volume","setVolume","setEffectVolume","muteMusic","status","resume","muteEffect","resumeAudio","context","__audioSupport","state","__apiRequestPlugin__INSTANCE","apiRequestPlugin","_postDataFormat","method","FormData","attr","append","Array","encodeURIComponent","_requestData","params","isSync","responseHandler","requestData","toUpperCase","indexOf","xhr","getXMLHttpRequest","_streamXHREventsToLabel","open","isNative","setRequestHeader","timeout","send","response","readyState","log","eventname","onreadystatechange","result","responseText","_dealPath","path","configData","apiServerUrl","put","post","test_get","test_post","API","touchEndedClone","_onTouchEnded","_soundOn","setSoundEffect","on","event","isSrc","interactable","enabledInHierarchy","_pressed","_SocketIO_INSTANCE","ZR_IO","currentSocketRoomParams","socketIoPlugin","roomParams","socketCb","initSocketIo","socketServer","onReconnectCb","socketOpts","_arguments","arguments","ioIsConnected","socketIo","io","connect","socketEventList","eventCb","eventName","eventCall","myEmit","emitName","Object","alert","sData","emit","call","__success","reConnectFrom","reconnectCb","Date","joinRoom","__emit","emitEventName","emitCb","isJoinRoom","info","__hallItem","hallItem","__gameRoomKey","gameRoomKey","__token","__exchangeRoomKey","cbEventName","floor","onEventName","reConnect","disconnect","destroy","test_on"],"mappings":"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","file":"build_main.js","sourceRoot":"..\\..\\..\\..\\assets\\api","sourcesContent":["'use strict';\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\n/**\r\n*  本地存储工具类\r\n*/\r\nwindow.__localStoreUtil__INSTANCE__ = null;\r\n\r\nvar localStoreUtil = function localStoreUtil() {\r\n    if (window.__localStoreUtil__INSTANCE__ == null) {\r\n        this.storeKey = 'CR_';\r\n        this.init();\r\n        window.__localStoreUtil__INSTANCE__ = this;\r\n    }\r\n    return window.__localStoreUtil__INSTANCE__;\r\n};\r\nlocalStoreUtil.prototype = {\r\n    init: function init() {\r\n        this.localStorage = cc.sys.localStorage;\r\n    },\r\n    set: function set(key, value) {\r\n        if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object') {\r\n            try {\r\n                value = JSON.stringify(value);\r\n            } catch (error) {\r\n                return false;\r\n            }\r\n        }\r\n        this.localStorage.setItem(this.storeKey + key, value);\r\n        return true;\r\n    },\r\n    get: function get(key) {\r\n        //获取失败，返回===undefined，处理\r\n        var value = this.localStorage.getItem(this.storeKey + key);\r\n        if (value == 'null' || value == 'undefined') {\r\n            value = null;\r\n        } else if (new RegExp('^[{|\\[]').test(value)) {\r\n            try {\r\n                value = JSON.parse(value);\r\n            } catch (error) {\r\n                value = undefined;\r\n            }\r\n        }\r\n\r\n        return value;\r\n    }\r\n};\r\n\r\nwindow.STORE = new localStoreUtil();\r\nrequire('config');\r\n\r\n/**\r\n * 全局数据都存放当前参数下\r\n */\r\nwindow.GD = window.GlobalData = {\r\n    token: null,\r\n    playerId: null,\r\n    player: null, //登录用户信息\r\n    loginParams: null, //用户登录参数\r\n    exchangeRoomKey: null, //标记换桌\r\n    current: {//存放场景跳转的参数\r\n\r\n    },\r\n    setting: { //全局设置\r\n        musicVolume: 1, //音乐音量\r\n        effectVolume: 1, //音效音量\r\n        isMusicMute: false,\r\n        isEffectMute: false\r\n    }\r\n};\r\n\r\n(function () {\r\n    //读取缓存数据至全局变量\r\n    var _musicVolume = STORE.get('musicVolume');\r\n    _musicVolume != null && (GD.setting.musicVolume = _musicVolume * 1);\r\n    var _effectVolume = STORE.get('effectVolume');\r\n    _effectVolume != null && (GD.setting.effectVolume = _effectVolume * 1);\r\n\r\n    var _isMusicMute = STORE.get('isMusicMute') === 'true';\r\n    _isMusicMute != null && (GD.setting.isMusicMute = _isMusicMute);\r\n    var _isEffectMute = STORE.get('isEffectMute') === 'true';\r\n    _isEffectMute != null && (GD.setting.isEffectMute = _isEffectMute);\r\n})();\r\n\r\n/**\r\n * 常量数据都存放当前参数下\r\n */\r\nwindow.CD = window.ConstantData = {\r\n    gameTypes: {\r\n        '1': { name: '炸金花', gameId: 30, gameSceneName: 'glodenFlower', roomListScene: 'roomList' },\r\n        '2': { name: '牛牛', gameId: 50, gameSceneName: 'cattle', roomListScene: 'cattleChooseRoom' },\r\n        '3': { name: '德州扑克', gameId: 70, gameSceneName: 'holdem', roomListScene: 'roomList' },\r\n        '4': { name: '斗地主', gameId: 170, gameSceneName: 'landload', roomListScene: 'landloadRoomList' }\r\n    }\r\n};\r\n/**\r\n*  自定义工具方法\r\n*/\r\nvar myUtil = {\r\n    //获得字符串实际长度，中文2，英文1\r\n    getLength: function getLength(str) {\r\n        if (str == null || str == '') {\r\n            return 0;\r\n        }\r\n        var realLength = 0,\r\n            len = str.length,\r\n            charCode = -1;\r\n        for (var i = 0; i < len; i++) {\r\n            charCode = str.charCodeAt(i);\r\n            if (charCode >= 0 && charCode <= 128) realLength += 1;else realLength += 2;\r\n        }\r\n        return realLength;\r\n    },\r\n    substr: function substr(str, maxLength, needDot) {\r\n        var _result = str || '';\r\n        if (myUtil.getLength(str) > maxLength) {\r\n            var realLength = 0,\r\n                len = str.length,\r\n                charCode = -1,\r\n                _subIndex;\r\n            for (var i = 0; i < len; i++) {\r\n                if (realLength >= maxLength) {\r\n                    _subIndex = i;\r\n                    break;\r\n                }\r\n                charCode = str.charCodeAt(i);\r\n                if (charCode >= 0 && charCode <= 128) realLength += 1;else realLength += 2;\r\n            }\r\n\r\n            _result = str.substr(0, _subIndex);\r\n            if (needDot === true) _result += '...';\r\n        }\r\n        return _result;\r\n    },\r\n    compareUp: function compareUp(data, propertyName) {\r\n        // 升序排序  \r\n        if (typeof data[0][propertyName] != \"number\") {\r\n            // 属性值为非数字  \r\n            return function (object1, object2) {\r\n                var value1 = object1[propertyName];\r\n                var value2 = object2[propertyName];\r\n                return value1.localeCompare(value2);\r\n            };\r\n        } else {\r\n            return function (object1, object2) {\r\n                // 属性值为数字  \r\n                var value1 = object1[propertyName];\r\n                var value2 = object2[propertyName];\r\n                return value1 - value2;\r\n            };\r\n        }\r\n    },\r\n    compareDown: function compareDown(data, propertyName) {\r\n        // 降序排序  \r\n        if (typeof data[0][propertyName] != \"number\") {\r\n            // 属性值为非数字  \r\n            return function (object1, object2) {\r\n                var value1 = object1[propertyName];\r\n                var value2 = object2[propertyName];\r\n                return value2.localeCompare(value1);\r\n            };\r\n        } else {\r\n            return function (object1, object2) {\r\n                // 属性值为数字  \r\n                var value1 = object1[propertyName];\r\n                var value2 = object2[propertyName];\r\n                return value2 - value1;\r\n            };\r\n        }\r\n    },\r\n    uuid: function uuid(len, radix) {\r\n        //生成uuid\r\n        var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\r\n        var uuid = [],\r\n            i;\r\n        radix = radix || chars.length;\r\n\r\n        if (len) {\r\n            // Compact form\r\n            for (i = 0; i < len; i++) {\r\n                uuid[i] = chars[0 | Math.random() * radix];\r\n            }\r\n        } else {\r\n            // rfc4122, version 4 form\r\n            var r;\r\n\r\n            // rfc4122 requires these characters\r\n            uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\r\n            uuid[14] = '4';\r\n\r\n            // Fill in random data. At i==19 set the high bits of clock sequence as\r\n            // per rfc4122, sec. 4.1.5\r\n            for (i = 0; i < 36; i++) {\r\n                if (!uuid[i]) {\r\n                    r = 0 | Math.random() * 16;\r\n                    uuid[i] = chars[i == 19 ? r & 0x3 | 0x8 : r];\r\n                }\r\n            }\r\n        }\r\n\r\n        return uuid.join('');\r\n    },\r\n\r\n\r\n    //获取url参数\r\n    getQueryString: function getQueryString(name) {\r\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\r\n        var reg_rewrite = new RegExp(\"(^|/)\" + name + \"/([^/]*)(/|$)\", \"i\");\r\n        var r = window.location.search.substr(1).match(reg);\r\n        var q = window.location.pathname.substr(1).match(reg_rewrite);\r\n        if (r != null) {\r\n            return unescape(r[2]);\r\n        } else if (q != null) {\r\n            return unescape(q[2]);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n};\r\n\r\nwindow.MyUtil = myUtil;\r\n\r\nwindow.__ccModal = null;\r\nvar ccModal = function ccModal() {\r\n    if (window.__ccModal) {\r\n        return window.__ccModal;\r\n    } else {\r\n        window.__ccModal = this;\r\n    }\r\n};\r\n\r\nccModal.prototype._addButtons = function (options) {\r\n    var btnsNode = this.modalNode.getChildByName('btns');\r\n\r\n    var btnsArr = {};\r\n    if (options && btnsNode) {\r\n        btnsNode.children.forEach(function (item, index) {\r\n            btnsArr[item.name] = item;\r\n        });\r\n\r\n        if (options.buttons) {\r\n            var btnNodes = [];\r\n            options.buttons.forEach(function (item, index) {\r\n                // item.name, item.handler;\r\n\r\n                if (!item.name || btnsArr[item.name] == null) {\r\n                    return;\r\n                }\r\n\r\n                var node = btnsArr[item.name];\r\n\r\n                delete btnsArr[item.name];\r\n\r\n                node.active = true;\r\n\r\n                ccUtil.setLabelString(node, 'text', item.text || '');\r\n\r\n                var btnComp = node.getComponent(cc.Button);\r\n\r\n                if (item.handler) {\r\n                    btnComp.clickEvents = [item.handler];\r\n                } else {\r\n                    btnComp.clickEvents = [];\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    for (var i in btnsArr) {\r\n        btnsArr[i].active = false;\r\n    }\r\n};\r\n\r\nccModal.prototype._modal = function (msg, cb, seconds, options) {\r\n    var _this = this;\r\n\r\n    var self = this;\r\n\r\n    if (this.modalNode == null || this.modalNode && this.modalNode.isValid == false) {\r\n        this.modalNode = cc.find('modal');\r\n    }\r\n\r\n    if (this.modalNode && this.modalNode.isValid == false) {\r\n        this.modalNode = null;\r\n    }\r\n\r\n    this.modalloadCb = function () {\r\n        var node = _this.modalNode;\r\n\r\n        ccUtil.setLabelString(node, 'size/bg/container/text', msg || '');\r\n\r\n        node.active = true;\r\n\r\n        _this._addButtons(options);\r\n\r\n        var scheNode = node.children[0]._components[0];\r\n\r\n        scheNode.unscheduleAllCallbacks();\r\n\r\n        if (seconds != null && seconds > 0) {\r\n            scheNode.schedule(function () {\r\n                if (--seconds <= 0) {\r\n                    scheNode.unscheduleAllCallbacks();\r\n                    node.active = false;\r\n\r\n                    cb && cb();\r\n                }\r\n            }, 1);\r\n        } else {\r\n            cb && cb();\r\n        }\r\n    };\r\n\r\n    if (this.modalNode != null) {\r\n        self.modalloadCb();\r\n    } else {\r\n        if (self.isModalloading != true) {\r\n            self.isModalloading = true;\r\n\r\n            cc.loader.loadRes('public/modal', function (err, prefab) {\r\n                if (err) {\r\n                    cc.error('loadRes - modal 失败', err.message || err);\r\n                    return;\r\n                }\r\n                if (prefab instanceof cc.Prefab) {\r\n                    var modalNode = cc.instantiate(prefab);\r\n                    modalNode.parent = cc.director.getScene();\r\n\r\n                    self.modalNode = modalNode;\r\n                    self.isModalloading = false;\r\n\r\n                    self.modalloadCb();\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\nccModal.prototype.close = function (isInit) {\r\n    if (this.modalNode) {\r\n        this.modalNode.active = false;\r\n    }\r\n};\r\n\r\nccModal.prototype.loading = function (msg, options) {\r\n    window.AudioCtrl.playWindowopen();\r\n    this._modal.apply(this, [msg, null, null, options]);\r\n};\r\n\r\nccModal.prototype.tip = function (msg, cb, seconds, options) {\r\n    window.AudioCtrl.playWindowopen();\r\n    this._modal.apply(this, [msg, cb, seconds || 2, options]);\r\n};\r\n\r\nvar ccUtil = {\r\n    setSpriteFrame: function setSpriteFrame(targetNode, spriteAltas, spriteName) {\r\n        var sprComp = targetNode.getComponent(cc.Sprite);\r\n        if (sprComp == null) {\r\n            sprComp = targetNode.addComponent(cc.Sprite);\r\n        }\r\n        sprComp.spriteFrame = spriteAltas.getSpriteFrame(spriteName);\r\n    },\r\n    setLabelString: function setLabelString(targetNode, childName, text) {\r\n        if (childName) {\r\n            var arr = childName.split('/').forEach(function (item) {\r\n                targetNode != null && (targetNode = targetNode.getChildByName(item));\r\n            });\r\n        }\r\n        if (targetNode) {\r\n            targetNode.getComponent(cc.Label).string = text == null ? '' : text;\r\n        }\r\n    },\r\n    labelTimeout: function labelTimeout(targetNode, childName, seconds, cb) {\r\n        if (childName) {\r\n            var arr = childName.split('/').forEach(function (item) {\r\n                targetNode = targetNode.getChildByName(item);\r\n            });\r\n        }\r\n\r\n        var labelCom = targetNode.getComponent(cc.Label);\r\n        if (!labelCom) {\r\n            labelCom = targetNode.addComponent(cc.Label);\r\n            labelCom.string = '';\r\n        }\r\n\r\n        labelCom.unscheduleAllCallbacks();\r\n\r\n        var sched = labelCom.scheduleOnce(function () {\r\n            labelCom.unscheduleAllCallbacks();\r\n            //targetNode.removeComponent(labelCom);\r\n            cb && cb();\r\n        }, seconds || 1);\r\n    },\r\n    labelInterval: function labelInterval(targetNode, childName, seconds, cb) {\r\n        if (childName) {\r\n            var arr = childName.split('/').forEach(function (item) {\r\n                targetNode = targetNode.getChildByName(item);\r\n            });\r\n        }\r\n\r\n        var labelCom = targetNode.getComponent(cc.Label);\r\n        if (!labelCom) {\r\n            labelCom = targetNode.addComponent(cc.Label);\r\n            labelCom.string = '';\r\n        }\r\n\r\n        labelCom.unscheduleAllCallbacks();\r\n\r\n        cb && cb(seconds);\r\n\r\n        var sched = labelCom.schedule(function () {\r\n            if (--seconds <= 0) {\r\n                labelCom.unscheduleAllCallbacks();\r\n                //targetNode.removeComponent(labelCom);\r\n            }\r\n            cb && cb(seconds);\r\n        }, 1);\r\n    },\r\n    modalLoading: function modalLoading(msg, options) {\r\n        new ccModal().loading(msg, options);\r\n    },\r\n    modalTip: function modalTip(msg, cb, seconds, options) {\r\n        new ccModal().tip(msg, cb, seconds, options);\r\n    },\r\n    closeModal: function closeModal() {\r\n        new ccModal().close();\r\n    }\r\n};\r\n\r\nwindow.ccUtil = ccUtil;\r\n\r\n(function () {\r\n    var self = void 0;\r\n\r\n    var audioCtrl = function audioCtrl() {\r\n        self = this;\r\n    };\r\n\r\n    audioCtrl.prototype.playSelect = function (data) {\r\n        this.playResAudio('public/audio/select.mp3');\r\n    };\r\n\r\n    audioCtrl.prototype.playWindowopen = function (data) {\r\n        this.playResAudio('public/audio/window_open.mp3');\r\n    };\r\n\r\n    audioCtrl.prototype.playBGM = function (data) {\r\n        var audioUrl = cc.url.raw('resources/' + data);\r\n        this.playNodeAudioBGM(audioUrl);\r\n    };\r\n\r\n    audioCtrl.prototype.playResAudio = function (data) {\r\n        if (GD.setting.isEffectMute !== true) {\r\n            var audioUrl = cc.url.raw('resources/' + data);\r\n            cc.audioEngine.play(audioUrl, false, GD.setting.effectVolume);\r\n        }\r\n    };\r\n\r\n    audioCtrl.prototype.playNodeAudio = function (audioUrl) {\r\n        if (GD.setting.isEffectMute !== true) {\r\n            cc.audioEngine.play(audioUrl, false, GD.setting.effectVolume);\r\n        }\r\n    };\r\n\r\n    audioCtrl.prototype.playNodeAudioBGM = function (audioUrl) {\r\n        self._bgmSource = audioUrl; //保存当前背景音乐\r\n        if (audioUrl) {\r\n            self._musicAudioId = cc.audioEngine.play(audioUrl, true, GD.setting.musicVolume);\r\n            if (GD.setting.isMusicMute == true) {\r\n                //静音\r\n                cc.audioEngine.pause(self._musicAudioId);\r\n            }\r\n        }\r\n    };\r\n\r\n    audioCtrl.prototype.stopBGM = function () {\r\n        if (self._musicAudioId >= 0) {\r\n            cc.audioEngine.stop(self._musicAudioId);\r\n            self._musicAudioId = null;\r\n        }\r\n    };\r\n\r\n    audioCtrl.prototype.setMusicVolume = function (volume) {\r\n        if (volume < 0) {\r\n            volume = 0;\r\n        } else if (volume > 1) {\r\n            volume = 1;\r\n        }\r\n\r\n        GD.setting.musicVolume = volume;\r\n        if (this._musicAudioId >= 0) {\r\n            cc.audioEngine.setVolume(this._musicAudioId, GD.setting.musicVolume);\r\n        }\r\n\r\n        STORE.set('musicVolume', volume);\r\n    };\r\n\r\n    audioCtrl.prototype.setEffectVolume = function (volume) {\r\n        if (volume < 0) {\r\n            volume = 0;\r\n        } else if (volume > 1) {\r\n            volume = 1;\r\n        }\r\n\r\n        GD.setting.effectVolume = volume;\r\n        STORE.set('effectVolume', volume);\r\n    };\r\n\r\n    audioCtrl.prototype.muteMusic = function (status) {\r\n        GD.setting.isMusicMute = !!status;\r\n\r\n        if (this._musicAudioId >= 0) {\r\n            if (GD.setting.isMusicMute !== true) {\r\n                //考虑重新播放背景音乐\r\n                cc.audioEngine.resume(this._musicAudioId);\r\n                cc.audioEngine.setVolume(this._musicAudioId, GD.setting.musicVolume);\r\n            } else {\r\n                //暂停当前背景音乐\r\n                cc.audioEngine.pause(this._musicAudioId);\r\n            }\r\n        } else {\r\n            this.playNodeAudioBGM(self._bgmSource);\r\n        }\r\n\r\n        STORE.set('isMusicMute', GD.setting.isMusicMute);\r\n    };\r\n\r\n    audioCtrl.prototype.muteEffect = function (status) {\r\n        GD.setting.isEffectMute = !!status;\r\n        STORE.set('isEffectMute', GD.setting.isEffectMute);\r\n    };\r\n\r\n    //恢复声音\r\n    audioCtrl.prototype.resumeAudio = function (status) {\r\n        var context = cc.sys.__audioSupport.context;\r\n        if (context.state === 'suspended') {\r\n            context.resume();\r\n        }\r\n    };\r\n\r\n    window.AudioCtrl = new audioCtrl();\r\n})();\r\n\r\n/**\r\n*  请求API组件\r\n*/\r\nwindow.__apiRequestPlugin__INSTANCE = null;\r\n\r\nvar apiRequestPlugin = function apiRequestPlugin() {\r\n    if (window.__apiRequestPlugin__INSTANCE == null) {\r\n        window.__apiRequestPlugin__INSTANCE = this;\r\n    }\r\n    return window.__apiRequestPlugin__INSTANCE;\r\n};\r\napiRequestPlugin.prototype = {\r\n    // post请求\r\n    // 格式化post 传递的数据\r\n    _postDataFormat: function _postDataFormat(obj, method) {\r\n        if (!obj || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) != \"object\") {\r\n            return;\r\n        }\r\n\r\n        // 支持有FormData的浏览器（Firefox 4+ , Safari 5+, Chrome和Android 3+版的Webkit）\r\n        if (typeof FormData == \"functionXXXX\") {\r\n            var data = new FormData();\r\n            for (var attr in obj) {\r\n                data.append(attr, obj[attr]);\r\n            }\r\n            return data;\r\n        } else {\r\n            // 不支持FormData的浏览器的处理 \r\n            var arr = new Array();\r\n            var i = 0;\r\n            for (var attr in obj) {\r\n                arr[i] = encodeURIComponent(attr) + \"=\" + encodeURIComponent(obj[attr]);\r\n                i++;\r\n            }\r\n            return arr.join(\"&\");\r\n        }\r\n    },\r\n    _requestData: function _requestData(method, url, params, isSync, responseHandler) {\r\n        //请求数据\r\n        //设置token参数\r\n        params ? params.token = GD.token : params = { token: GD.token };\r\n\r\n        var requestData = this._postDataFormat(params);\r\n        if (method.toUpperCase() == 'GET') {\r\n            url += (url.indexOf('?') != -1 ? '&' : '?') + requestData;\r\n        }\r\n\r\n        var xhr = cc.loader.getXMLHttpRequest();\r\n\r\n        if (typeof isSync == 'function') {\r\n            responseHandler = isSync;\r\n            isSync = null;\r\n        }\r\n\r\n        if (isSync == null) {\r\n            isSync = true;\r\n        }\r\n\r\n        this._streamXHREventsToLabel(xhr, responseHandler);\r\n\r\n        xhr.open(method, url, isSync);\r\n\r\n        if (cc.sys.isNative) {\r\n            xhr.setRequestHeader(\"Accept-Encoding\", \"gzip,deflate\");\r\n        }\r\n\r\n        //xhr.withCredentials = true; //设置传递cookie，如果不需要直接注释就好\r\n        //xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\"); //请求头部，需要服务端同时设置\r\n\r\n        xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"); //post请求增加的\r\n        //xhr.setRequestHeader(\"Content-Type\", \"application/json;\");\r\n\r\n        // note: In Internet Explorer, the timeout property may be set only after calling the open()\r\n        // method and before calling the send() method.\r\n        xhr.timeout = 5000; // 30 seconds for timeout\r\n\r\n        if (method.toUpperCase() == 'GET') {\r\n            xhr.send();\r\n        } else {\r\n            xhr.send(requestData);\r\n        }\r\n    },\r\n    _streamXHREventsToLabel: function _streamXHREventsToLabel(xhr, responseHandler) {\r\n        var handler = responseHandler || function (status, response, readyState) {\r\n            cc.log('请求结果：', response);\r\n        };\r\n\r\n        // Simple events\r\n        ['loadstart', 'abort', 'error', 'load', 'loadend', 'timeout'].forEach(function (eventname) {\r\n            xhr[\"on\" + eventname] = function () {\r\n                //cc.log(\"Event : \" + eventname, arguments);\r\n            };\r\n        });\r\n\r\n        // Special event\r\n        xhr.onreadystatechange = function () {\r\n            //cc.log('onreadystatechange', xhr.readyState, xhr.status);\r\n            if (xhr.readyState === 4) {\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    var result = void 0;\r\n                    try {\r\n                        result = JSON.parse(xhr.responseText);\r\n                    } catch (error) {}\r\n                    if (result.status == 200) {\r\n                        handler(true, result.result);\r\n                    } else {\r\n                        handler(false, result.result);\r\n                    }\r\n                } else {\r\n                    handler(false, \"statusCode=\" + xhr.status);\r\n                }\r\n            }\r\n        };\r\n    },\r\n    _dealPath: function _dealPath(path) {\r\n        if (path.indexOf('http://') == -1 && path.indexOf('https://') == -1) {\r\n            path = window.configData.apiServerUrl + path;\r\n        }\r\n        return path;\r\n    },\r\n    get: function get(path, params, isSync, cb) {\r\n        var url = this._dealPath(path);\r\n        this._requestData('GET', url, params, isSync, cb);\r\n    },\r\n    put: function put(path, params, isSync, cb) {\r\n        var url = this._dealPath(path);\r\n        this._requestData('PUT', url, params, isSync, cb);\r\n    },\r\n    post: function post(path, params, isSync, cb) {\r\n        var url = this._dealPath(path);\r\n        this._requestData('POST', url, params, isSync, cb);\r\n    },\r\n    test_get: function test_get() {\r\n        this.get('/api/hello/getHello', null, function (status, data) {\r\n            if (status == true) {\r\n                cc.log('请求成功：', data);\r\n            } else {\r\n                cc.log('请求失败：', data);\r\n            }\r\n        });\r\n    },\r\n    test_post: function test_post() {\r\n        this.get('/api/hello/getHello2');\r\n    }\r\n};\r\n\r\nwindow.apiRequestPlugin = apiRequestPlugin;\r\nwindow.API = new apiRequestPlugin();\r\n\r\nif (cc.Button.prototype.touchEndedClone == null) {\r\n    cc.Button.prototype.touchEndedClone = cc.Button.prototype._onTouchEnded;\r\n    cc.Button.prototype._soundOn = true;\r\n    cc.Button.prototype.setSoundEffect = function (on) {\r\n        this._soundOn = on;\r\n    };\r\n    cc.Button.prototype._onTouchEnded = function (event, isSrc) {\r\n        if (isSrc !== true) {\r\n            if (this.interactable && this.enabledInHierarchy && this._pressed && this._soundOn == true) {\r\n                window.AudioCtrl.playSelect();\r\n            }\r\n\r\n            this.touchEndedClone(event, true);\r\n        }\r\n    };\r\n}\r\n/**\r\n*  socket.io组件\r\n*  先实例化new socketIoPlugin(), 再通过 ZR_IO 调用\r\n*/\r\nwindow._SocketIO_INSTANCE = window.ZR_IO = null;\r\nwindow.currentSocketRoomParams = null; //默认加入房间的参数\r\n\r\nvar socketIoPlugin = function socketIoPlugin(roomParams, socketCb) {\r\n    if (window._SocketIO_INSTANCE == null) {\r\n        this.initSocketIo({ url: window.configData.socketServer.url });\r\n        window._SocketIO_INSTANCE = this;\r\n        window.currentSocketRoomParams = null;\r\n    }\r\n\r\n    window.currentSocketRoomParams = roomParams;\r\n    window._SocketIO_INSTANCE.onReconnectCb(socketCb);\r\n\r\n    window.ZR_IO = window._SocketIO_INSTANCE;\r\n    return window._SocketIO_INSTANCE;\r\n};\r\n\r\nsocketIoPlugin.prototype = {\r\n    initSocketIo: function initSocketIo(socketOpts) {\r\n        var _arguments = arguments;\r\n\r\n        var self = this;\r\n\r\n        var ioIsConnected = true; //1：可用，0不可用\r\n        var socketIo = io.connect(socketOpts.url);\r\n        var socketEventList = {};\r\n\r\n        socketIo.eventCb = function (eventName, eventCall) {\r\n            if (eventCall) {\r\n                socketEventList['event_' + eventName] = eventCall;\r\n            } else {\r\n                delete socketEventList['event_' + eventName];\r\n            }\r\n        };\r\n        socketIo.myEmit = function (emitName, data) {\r\n            if (!data || data.constructor != Object) {\r\n                alert('ERROR-传递的数据类型必须为Object');\r\n                return;\r\n            }\r\n            var sData = { emitName: emitName, data: data };\r\n            socketIo.emit('socket.io', sData);\r\n        };\r\n        socketIo.on('socket.io-data', function (data) {\r\n            cc.log('socket.io-data', data);\r\n\r\n            if (data.eventName && socketEventList['event_' + data.eventName]) {\r\n                var result = data.data;\r\n                // if (result && new RegExp(/^[{|\\[]/).test(result)) {\r\n                //     result = JSON.parse(result);\r\n                // }\r\n                socketEventList['event_' + data.eventName].call(null, result, result.__success);\r\n            }\r\n        });\r\n\r\n        socketIo.on('connect', function () {\r\n            //加组在此处理\r\n            cc.log('connect', self.reConnectFrom, ioIsConnected, _typeof(self.reconnectCb));\r\n            if (self.reConnectFrom == 'local') {\r\n                //由业务处理\r\n                self.reConnectFrom == null;\r\n            } else {\r\n                if (ioIsConnected == false) {\r\n                    ioIsConnected = true;\r\n\r\n                    if (self.reconnectCb) {\r\n                        self.reconnectCb(true);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        socketIo.on('reconnect_attempt', function () {\r\n            cc.log('reconnect_attempt', self.reConnectFrom, ioIsConnected);\r\n            if (self.reConnectFrom == 'local') {\r\n                //由业务处理\r\n\r\n            } else {\r\n                if (ioIsConnected == true) {\r\n                    ioIsConnected = false;\r\n\r\n                    ccUtil.modalLoading('socket服务连接断开');\r\n                }\r\n            }\r\n        });\r\n\r\n        socketIo.on('reconnect', function () {\r\n            cc.log('reconnect');\r\n        });\r\n        socketIo.on('reconnecting', function () {\r\n            cc.log('reconnecting', _arguments);\r\n        });\r\n        socketIo.on('reconnect_error', function () {\r\n            cc.log('reconnect_error');\r\n        });\r\n        socketIo.on('reconnect_failed', function () {\r\n            cc.log('reconnect_failed');\r\n        });\r\n        socketIo.on('ping', function () {\r\n            cc.log('ping', new Date());\r\n        });\r\n        socketIo.on('pong', function () {\r\n            cc.log('pong', new Date());\r\n        });\r\n\r\n        this.socketIo = socketIo;\r\n    },\r\n    onReconnectCb: function onReconnectCb(reconnectCb) {\r\n        this.reconnectCb = reconnectCb;\r\n    },\r\n    joinRoom: function joinRoom(params, cb) {\r\n        var eventCb = cb || function (data) {\r\n            cc.log('join_room_done', data);\r\n        };\r\n        this.__emit('join_room', params, eventCb, true);\r\n    },\r\n    __emit: function __emit(emitEventName, data, emitCb, isJoinRoom) {\r\n        //处理推送过滤\r\n        cc.info('socket-emit', emitEventName);\r\n\r\n        //加入房间时间控制\r\n        if (emitEventName == 'join_room' && !isJoinRoom) {\r\n            cc.error('join_room事件已作为为系统加入房间,请更换名称！！');\r\n            return;\r\n        }\r\n\r\n        if (emitEventName) {\r\n            //使用全局用户id，当前所在的游戏房间\r\n            if (data == null) {\r\n                data = {};\r\n            }\r\n            if (typeof data == 'function') {\r\n                emitCb = data;\r\n                data = {};\r\n            }\r\n\r\n            data.playerId = GD.playerId;\r\n            data.__hallItem = GD.current.hallItem; //场次信息\r\n            data.__gameRoomKey = GD.gameRoomKey;\r\n            data.__token = GD.token;\r\n            data.__exchangeRoomKey = GD.exchangeRoomKey;\r\n\r\n            if (emitCb) {\r\n                //默认接受当前的回调\r\n                var cbEventName = emitEventName + '_' + Math.floor(Math.random() * 10000);\r\n                data.cbEventName = cbEventName;\r\n                this.socketIo.eventCb(cbEventName, emitCb);\r\n            }\r\n\r\n            this.socketIo.myEmit(emitEventName, data);\r\n        }\r\n    },\r\n    emit: function emit(emitEventName, data, emitCb) {\r\n        this.__emit.apply(this, arguments);\r\n    },\r\n    on: function on(onEventName, cb) {\r\n        cc.info('socket-on', onEventName);\r\n\r\n        if (onEventName) {\r\n            this.socketIo.eventCb(onEventName, cb);\r\n        }\r\n    },\r\n    reConnect: function reConnect() {\r\n        this.reConnectFrom = 'local';\r\n        this.socketIo.disconnect();\r\n        this.socketIo.connect();\r\n    },\r\n    destroy: function destroy() {\r\n        window._SocketIO_INSTANCE = window.ZR_IO = null;\r\n        this.socketIo.destroy();\r\n    },\r\n    test_on: function test_on() {\r\n        this.on('emit-test', function (data) {\r\n            cc.log(data);\r\n        });\r\n    }\r\n};\r\n\r\nwindow.socketIoPlugin = socketIoPlugin;\r\nwindow.initSocketIo = function (roomParams, socketCb) {\r\n    new socketIoPlugin(roomParams, socketCb);\r\n};\r\n"]}